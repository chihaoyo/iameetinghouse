<script src="https://cdn.firebase.com/js/client/1.0.18/firebase.js"></script>
<script>

var root_ = new Firebase('https://resplendent-fire-8362.firebaseio.com/iameetinghouse/');
var nodes_ = root_.child('nodes2');
nodes_.on('child_added', function(snapshot) {
	var v = snapshot.val().v;
	var p = snapshot.val().p;
	var q = snapshot.val().q;
	
	if(p < -1 || p > 1) {
		console.log(v + ' ' + p);
		snapshot.ref().update({p: (p < -1 ? -1 : 1)});
	}
	if(q < -1 || q > 1) {
		console.log(v + ' ' + q);
		snapshot.ref().update({q: (q < -1 ? -1 : 1)});
	}
});

</script>